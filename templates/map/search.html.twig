{% extends 'base.html.twig' %}

{% block title %}Info spot{% endblock %}

{% block body %}

   <div class="map" id="mapid"></div>

                <input type="hidden" data-lat="{{ spots.SPOLatitude }}" 
                data-long="{{ spots.SPOLongitude }}" data-img="{{  spots.SPOPhoto  }}" 
                data-id="{{   spots.id   }}" data-description="{{  spots.SPODescription  }}" 
                name="lnglat" id="lnglat" class="lnglat" />
                
                <!-- Modal Structure -->
                <div id="info-modal-spot{{ spots.id }}" class="modal">
                    <div class="modal-content">
                        <h4>Modale de l'id {{ spots.id }}</h4>
                        <p>{{  spots.SPODescription  }}</p>
                        <p>Avec le champi : {{ spots.SPOIdChampi.CHAEspece }}</p>
                    </div>

                    <div class="modal-footer">
                        <a href="#!" class="modal-close waves-effect waves-green btn-flat">Agree</a>
                    </div>
                </div>
                <!-- End Modal -->
   <p id="infoposition"></p>

    <!-- <input type="hidden" name="lat" id="lat"/> 
    <input type="hidden" name="lng" id="lng"/> -->


    {%   for spot in spots   %}
        <input type="hidden" data-lat="{{ spot.SPOLatitude }}" 
        data-long="{{ spot.SPOLongitude }}" data-img="{{  spot.SPOPhoto  }}" 
        data-id="{{   spot.id   }}" data-description="{{  spot.SPODescription  }}" 
        name="lnglat" id="lnglat" class="lnglat" />
    {%   endfor   %}

<!-- Modal Structure -->
    <div id="info-modal-spot{{ spots.id }}" class="modal">
        <div class="modal-content">
            <h4>Modale de l'id {{ spots.id }}</h4>
            <p>{{  spots.SPODescription  }}</p>
            <p>Avec le champi : {{ spots.SPOIdChampi.CHAEspece }}</p>
            <p>Poster par : {{ spots.SPOIdUser.username }}</p>
        </div>

        <div class="modal-footer">
            <a href="#!" class="modal-close waves-effect waves-green btn-flat">Agree</a>
        </div>
    </div>
<!-- End Modal -->


    {%   for comments in comment   %}
        <p>{{ comments.COMText }}</p>
    {%   endfor   %}

    {{ form_start(formSignal) }}

        {{ form_row(formSignal.SIG_vide, {'label': 'Il n\'y a rien à ce spot : '}) }}
        {{ form_row(formSignal.SIG_toxique, {'label': 'Toxicité incorrecte : '}) }}
        {{ form_row(formSignal.SIG_desc, {'label': 'Description incorrecte : '}) }}
        {{ form_row(formSignal.SIG_accessibilite, {'label': 'Qualité du spot incorrecte : '}) }}
        <input type="submit" value="Signaler ce spot">

    {{ form_end(formSignal) }}

    {{ form_start(formComment) }}
        {{ form_row(formComment.COM_text, {'placeholder': 'Écrire un commentaire'}) }}
        <input type="submit" value="Ajouter un commentaire">
    {{ form_end(formComment) }}
{% endblock %}
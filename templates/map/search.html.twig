{% extends 'base.html.twig' %}

{% block title %}Info spot{% endblock %}

{% block body %}

   <div class="map d-none-mobile" id="mapid"></div>

                <input type="hidden" data-lat="{{ spots.SPOLatitude }}" 
                data-long="{{ spots.SPOLongitude }}" data-img="{{  spots.SPOPhoto  }}" 
                data-id="{{   spots.id   }}" data-description="{{  spots.SPODescription  }}" 
                name="lnglat" id="lnglat" class="lnglat" />
                
                <!-- Modal Structure -->
                <div id="info-modal-spot{{ spots.id }}" class="modal">
                    <div class="modal-content">
                        <h4>Modale de l'id {{ spots.id }}</h4>
                        <p>{{  spots.SPODescription  }}</p>
                        <p>Avec le champi : {{ spots.SPOIdChampi.CHAEspece }}</p>
                    </div>

                    <div class="modal-footer">
                        <a href="#!" class="modal-close waves-effect waves-green btn-flat">Agree</a>
                    </div>
                </div>
                <!-- End Modal -->
   <p id="infoposition"></p>

    <input type="hidden" name="lat" id="lat"/> 
    <input type="hidden" name="lng" id="lng"/>





        {# VERSION MOBILE #}
    <div class="d-flex flex-column d-none d-block-mobile d-flex-mobile flex-column-mobile ai-center">
        {% if spots.SPOPhoto %}
        <img src = "../{{  spots.SPOPhoto }}" class="responsive-img"/>
        {% endif %}
        <p class="color-1">INFORMATIONS</p>
        <div class="row no-margin-mobile w-90pct-mobile">
            <div class="d-flex text-center col s3">
                <div class="d-flex flex-column">
                {% if champi == "non" %}
                    <i class="fas fa-skull color-toxique"></i>
                    <p class="color-toxique no-margin-mobile">Toxique</p>
                {% endif %} 
                {% if champi == "oui" %}
                    <i class="fas fa-smile color-comestible fs-80"></i>
                    <p class="color-comestible fs-24 no-margin-mobile">Comestible</p>
                {% endif %} 
                {% if champi == "peut-être" %}
                    <i class="fas fa-question-circle color-incertain"></i>
                    <p class="color-incertain no-margin-mobile">Toxicité à déterminer</p>
                {% endif %} 
                </div>
            </div>
            <div class="col s8 offset-s1">
                <p>
                    {{   spots.SPODescription   }}
                </p>
            </div>
        </div>
        <div class="w-90pct-mobile">
            <p>Posté par {{ author.username }}</p>
        </div>
        <div class="d-flex ai-center flex-column">
            <canvas id="myChart" width="150" height="150" class="canvas-w canvas-h"></canvas>
            <p class="raleway fs-18 color-1">Accessibilité :</p>
            <p class="no-margin">{{ spots.SPOAccessibilite }}</p>
            <input type="hidden" name="accessibilité" id="accessibilite" value="{{ spots.SPOAccessibilite }}">
        </div>
<!-- Modal Trigger -->
  <a class="waves-effect waves-light btn modal-trigger bg-color-3" href="#modal1">Signaler ce spot</a>

  <!-- Modal Structure -->
  <div id="modal1" class="modal bg-color-4">
    {{ form_start(formSignal) }}

        {{ form_label(formSignal.SIG_vide, 'Il n\'y a rien à ce spot : ', {
       'label_attr': {'class': 'color-1-mobile fs-20'} }) }}
        {{ form_widget(formSignal.SIG_vide)}}

        {{ form_label(formSignal.SIG_toxique, 'Toxicité incorrecte : ', {
       'label_attr': {'class': 'color-1-mobile fs-20'} }) }}
        {{ form_widget(formSignal.SIG_toxique)}}

        {{ form_label(formSignal.SIG_desc, 'Description incorrecte :  ', {
       'label_attr': {'class': 'color-1-mobile fs-20'} }) }}
        {{ form_widget(formSignal.SIG_desc) }}

        {{ form_label(formSignal.SIG_accessibilite, 'Accessibilité du spot incorrecte :  ', {
       'label_attr': {'class': 'color-1-mobile fs-20'} }) }}
        {{ form_widget(formSignal.SIG_accessibilite) }}

        <input type="submit" value="Signaler ce spot">

    {{ form_end(formSignal) }}

  </div>
   {{ form_start(formComment) }}
        {{ form_widget(formComment.COM_text, {'placeholder': 'Écrire un commentaire'}) }}
        <input type="submit" value="Ajouter un commentaire">
    {{ form_end(formComment) }}
         
    </div>

   
    
    
{% endblock %}